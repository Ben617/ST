model_name: relik-reader-deberta-base-04062024-lrd08-1x4096-seed42
project_name: relik-reader
offline: false
training:
  seed: 94
  trainer:
    _target_: lightning.Trainer
    devices:
    - 0
    precision: 16-mixed
    max_steps: 50000
    val_check_interval: 1.0
    num_sanity_val_steps: 0
    limit_val_batches: 1
    gradient_clip_val: 1.0
    accumulate_grad_batches: 1
model:
  model:
    transformer_model: microsoft/deberta-v3-base
  optimizer:
    lr: 0.0001
    warmup_steps: 5000
    total_steps: ${training.trainer.max_steps}
    total_reset: 1
    weight_decay: 0.0
    lr_decay: 0.8
    no_decay_params:
    - bias
    - LayerNorm.weight
  entities_per_forward: 100
data:
  train_dataset_path: data/candidates/relik/train.window.candidates.jsonl
  val_dataset_path: data/candidates/relik/val.window.candidates.jsonl
  train_dataset:
    _target_: relik.reader.data.relik_reader_data.RelikDataset
    transformer_model: ${model.model.transformer_model}
    materialize_samples: false
    shuffle_candidates: 0.5
    random_drop_gold_candidates: 0.05
    noise_param: 0.0
    for_inference: false
    tokens_per_batch: 4096
    special_symbols: null
  val_dataset:
    _target_: relik.reader.data.relik_reader_data.RelikDataset
    transformer_model: ${model.model.transformer_model}
    materialize_samples: false
    shuffle_candidates: false
    for_inference: true
    special_symbols: null
  test_dataset_path: data/candidates/relik/test.window.candidates.jsonl
